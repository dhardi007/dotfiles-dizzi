###############################
### WINDOWS AND WORKSPACES ###
###############################
# no_border = on      | don't work anymore?     |      ¿Esto dejo de funcionar?
# Hyprland 0.53+ nueva sintaxis
# See https://wiki.hyprland.org/Configuring/Window-Rules/

# ============================================
# OPACIDAD DE EDITORES
# ============================================
windowrule {
  name = vscode-opacity
  match:class = ^(code-oss|code)$
  opacity = 0.90
}

windowrule {
  name = cursor-opacity
  match:class = ^(cursor|Cursor)$
  opacity = 0.90
}

windowrule {
  name = antigravity-opacity
  match:class = ^(antigravity|Antigravity)$
  opacity = 0.80
}

# ============================================
# MULTIMEDIA (VLC, MPV, IMÁGENES)
# ============================================
windowrule {
  name = media-players
  match:class = ^(vlc|mpv|feh|sxiv)$ 
  float = on
  # no_initial_focus = on # un parametro para desenforcar bien molesto xd
  size = 664 400
  move = 65 100
}

# ============================================
# NAVEGADORES
# ============================================
windowrule {
  name = browsers-float
  match:class = ^(opera|google-chrome|firefox|chromium|brave-browser|microsoft-edge|vivaldi-stable)$
  float = off
  # maximize = on  # ← En lugar de fullscreen
  size = 664 400
  move = 65 100
}

# ============================================
# GOOGLE ACCOUNTS (DON'T WORK ANYMORE)
# Antes funcionaba con:
# windowrulev2 = center, title:.*[Cc]uentas de [Gg]oogle.*, class:^(firefox|brave-browser|chromium)$:
# ============================================

# ============================================
# PICTURE IN PICTURE
# ============================================
windowrule {
  name = picture-in-picture
  match:title = ^(Picture.?in.?[Pp]icture|[Ii]m[aá]gen en [Ii]m[aá]gen)$
  float = on
  pin = on # PARA QUE ESTE FIJADO
  size = 600 338
  keep_aspect_ratio = on
  # no_border = on
  opacity = 1.0 override 1.0 override
  move = 100%-w-40 4%
}

# ============================================
# NEMO DESKTOP
# ============================================
windowrule {
  name = nemo-desktop-float
  match:class = ^(nemo-desktop)$
  # float = on
  maximize = on  # ← En lugar de fullscreen
  keep_aspect_ratio = on
  center = on
}

# ============================================
# LIBRE OFFICE
# ============================================
windowrule {
  name = libreoffice-text-import
  match:title = .*Text Import.*
  float = on
}

windowrule {
  name = libreoffice-general
  match:class = ^(soffice)$
  float = on
}

# ============================================
# SATTY (SCREENSHOT EDITOR)
# ============================================
windowrule {
  name = satty-float
  match:class = ^(com.gabm.satty)$ 
  float = on
  # no_border = on
  center = on
}

# ============================================
# XDG DESKTOP PORTAL GTK (ELECTRON)
# ============================================
windowrule {
  name = xdg-portal-gtk
  match:class = ^(xdg-desktop-portal-gtk)$
  float = on
  size = 964 800
  move = 65 100
  center = on
}

windowrule {
  name = xdg-portal-electron
  match:class = ^(xdg-desktop-portal-gtk)$
  match:title = .*Electron.*
  float = on
}

windowrule {
  name = xdg-portal-chromium
  match:class = ^(xdg-desktop-portal-gtk)$
  match:title = .*Chromium.*
  float = on
}

# ============================================
# WAYDROID
# ============================================
windowrule {
  name = waydroid-main
  match:class = ^(Waydroid)$ 
  float = on
  pin = on
  size = 926 809
  opacity = 0.95
# move = 65 100
  move = 0 0
}

# ============================================
# WORKSPACE SPECIAL:MUSIC
# ============================================
# Spotify y variantes
windowrule {
  name = music-spotify
  match:title = .*[Ss]potify.*
  workspace = special:music silent
}

windowrule {
  name = music-spotube
  match:title = .*[Ss]potube.*
  workspace = special:music silent
}

windowrule {
  name = music-spot-title
  match:title = .*Spot.*
  workspace = special:music silent
}

windowrule {
  name = music-spot-class
  match:class = ^(dev.alextren.Spot)$
  workspace = special:music silent
}

windowrule {
  name = music-psst
  match:title = .*[Pp]sst.*
  workspace = special:music silent
}

# Reproductores TUI
windowrule {
  name = music-spotify-player
  match:title = .*spotify.?player.*
  workspace = special:music silent
}

windowrule {
  name = music-ncspot
  match:title = .*ncspot.*
  workspace = special:music silent
}

windowrule {
  name = music-spt
  match:title = .*spt.*
  workspace = special:music silent
}

windowrule {
  name = music-cmus
  match:title = .*cmus.*
  workspace = special:music silent
}

windowrule {
  name = music-ncmpcpp
  match:title = .*ncmpcpp.*
  workspace = special:music silent
}

windowrule {
  name = music-musikcube
  match:title = .*musikcube.*
  workspace = special:music silent
}

# Reproductores GUI
windowrule {
  name = music-audacious-class
  match:class = ^(audacious|Audacious)$
  workspace = special:music silent
}

windowrule {
  name = music-audacious-title
  match:title = .*[Aa]udacious.*
  workspace = special:music silent
}

windowrule {
  name = music-rhythmbox-class
  match:class = ^(org.gnome.Rhythmbox3)$
  workspace = special:music silent
}

windowrule {
  name = music-rhythmbox-title
  match:title = .*[Rr]hythmbox.*
  workspace = special:music silent
}

windowrule {
  name = music-strawberry-class
  match:class = ^(strawberry)$
  workspace = special:music silent
}

windowrule {
  name = music-strawberry-title
  match:title = .*[Ss]trawberry.*
  workspace = special:music silent
}

windowrule {
  name = music-lollypop-class
  match:class = ^(org.gnome.Lollypop)$
  workspace = special:music silent
}

windowrule {
  name = music-lollypop-title
  match:title = .*[Ll]ollypop.*
  workspace = special:music silent
}

# Streaming web
windowrule {
  name = music-youtube-music-title
  match:title = .*YouTube Music.*
  workspace = special:music silent
}

windowrule {
  name = music-youtube-music-class
  match:class = ^(youtube-music)$
  workspace = special:music silent
}

windowrule {
  name = music-soundcloud
  match:title = .*SoundCloud.*
  workspace = special:music silent
}

# Visualizadores
windowrule {
  name = music-cava
  match:title = .*cava.*
  workspace = special:music silent
}

windowrule {
  name = music-glava
  match:class = ^(GLava)$
  workspace = special:music silent
}

windowrule {
  name = music-vis
  match:title = ^(vis)$
  workspace = special:music silent
}

windowrule {
  name = music-kew
  match:title = .*kew.*
  workspace = special:music silent
}
# ============================================
# GNOME
# ============================================
windowrule {
  name = gnome-calculator
  match:class = ^(Gnome-calculator|org.gnome.[cC]alculator)$
  float = on
  center = on
}

windowrule {
  name = image-players
  match:class = ^(org.gnome.Loupe)$
  float = on
}

windowrule {
  name = oklch-color-picker
  match:title = ^(Oklch Color Picker|oklch-color-picker)$
  float = on
  center = on
}

# ============================================
# REGLAS GLOBALES
# ============================================
# windowrule {
#   name = suppress-maximize-all
#   match:class = .*
#   suppress_event = maximize
# }
