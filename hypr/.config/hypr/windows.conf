###############################
### WINDOWS AND WORKSPACES ###
###############################

# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
# See https://wiki.hyprland.org/Configuring/Workspace-Rules/ for workspace rules

# Example windowrule v1
# Reglas de VSCODE para transaprencia / alternativa a Vibrancy
# windowrulev2 = opacity 0.80, class:^(.term)$
windowrulev2 = opacity 0.90, class:^(code-oss|code)$
windowrulev2 = opacity 0.90, class:^(cursor)$

# REGLAS PARA ABRIR VLC, Loupe etc mp4 jpg imagenes, videos
# windowrulev2 = float, class:^(vlc|mpv|feh|sxiv|org.gnome.Loupe)$

windowrulev2 = noinitialfocus, class:^(vlc|mpv|feh|sxiv|org.gnome.loupe)$
# ============================================
# NAVEGADORES Y VENTANAS ESPECIALES
# ============================================

# Navegadores principales
windowrulev2 = float, class:^(opera|google-chrome|firefox|chromium|brave-browser|microsoft-edge|vivaldi-stable)$
windowrulev2 = size 664 400, class:^(opera|google-chrome|firefox|chromium|brave-browser|microsoft-edge|vivaldi-stable)$
windowrulev2 = move 65 100, class:^(opera|google-chrome|firefox|chromium|brave-browser|microsoft-edge|vivaldi-stable)$

# Electron/CEF con Google Accounts
windowrulev2 = float, class:^(electron|cef)$, title:.*[Gg]oogle.*[Aa]ccounts.*
windowrulev2 = size 664 400, class:^(electron|cef)$, title:.*[Gg]oogle.*[Aa]ccounts.*
windowrulev2 = move 65 100, class:^(electron|cef)$, title:.*[Gg]oogle.*[Aa]ccounts.*

# ============================================
# PICTURE IN PICTURE - CORREGIDO (Issue #11983)
# ============================================

windowrulev2 = float, title:^(Picture.?in.?[Pp]icture)$
windowrulev2 = pin, title:^(Picture.?in.?[Pp]icture)$
windowrulev2 = size 600 338, title:^(Picture.?in.?[Pp]icture)$
windowrulev2 = keepaspectratio, title:^(Picture.?in.?[Pp]icture)$
windowrulev2 = noborder, title:^(Picture.?in.?[Pp]icture)$
windowrulev2 = opacity 1.0 override 1.0 override, title:^(Picture.?in.?[Pp]icture)$
windowrulev2 = move 100%-w-40 4%, title:^(Picture.?in.?[Pp]icture)$

# ============================================
# NEMO DESKTOP - SOLUCIÓN SIMPLE
# ============================================
# Agregar estas líneas a tu windows.conf

# Hacer que nemo-desktop siempre sea flotante automáticamente
windowrulev2 = float, class:^(nemo-desktop)$
windowrulev2 = size 800 600, class:^(nemo-desktop)$
windowrulev2 = center, class:^(nemo-desktop)$

# ===== WORKSPACE SPECIAL:MUSIC =====
# Todas las alternativas de Spotify + reproductores locales

#########################################################
#########################################################
# === REPRODUCTORES [SPECIAL MUSIC WORKSPACE rules] ===
#########################################################
#########################################################

# === SPOTIFY MODIFICADO ===
# Spicetify (cliente oficial modificado)
windowrulev2 = workspace special:music silent, title:.*[Ss]potify.*

# === ALTERNATIVAS GRATUITAS (sin Premium) ===
# Spotube (usa YouTube Music como backend)
windowrulev2 = workspace special:music silent, title:.*[Ss]potube.*

# Spot (cliente GTK para Spotify)
windowrulev2 = workspace special:music silent, title:.*Spot.*
windowrulev2 = workspace special:music silent, class:^(dev.alextren.Spot)$

# Psst (cliente nativo Rust)
windowrulev2 = workspace special:music silent, title:.*[Pp]sst.*

# === CLIENTES TUI (TERMINAL) ===
# spotify-player
windowrulev2 = workspace special:music silent, title:.*spotify.?player.*

# ncspot
windowrulev2 = workspace special:music silent, title:.*ncspot.*

# spt (simple Spotify TUI)
windowrulev2 = workspace special:music silent, title:.*spt.*

# === REPRODUCTORES LOCALES ===
# cmus
windowrulev2 = workspace special:music silent, title:.*cmus.*

# ncmpcpp + mpd
windowrulev2 = workspace special:music silent, title:.*ncmpcpp.*

# musikcube
windowrulev2 = workspace special:music silent, title:.*musikcube.*

# Audacious (GUI) - class es más confiable aquí
windowrulev2 = workspace special:music silent, class:^(audacious)$
windowrulev2 = workspace special:music silent, class:^(Audacious)$
windowrulev2 = workspace special:music silent, title:.*[Aa]udacious.*

# Rhythmbox - class es más confiable
windowrulev2 = workspace special:music silent, class:^(org.gnome.Rhythmbox3)$
windowrulev2 = workspace special:music silent, title:.*[Rr]hythmbox.*

# Strawberry Music Player - class es más confiable
windowrulev2 = workspace special:music silent, class:^(strawberry)$
windowrulev2 = workspace special:music silent, title:.*[Ss]trawberry.*

# Lollypop - class es más confiable
windowrulev2 = workspace special:music silent, class:^(org.gnome.Lollypop)$
windowrulev2 = workspace special:music silent, title:.*[Ll]ollypop.*

# === STREAMING WEB ===
# YouTube Music (cualquier browser/PWA/standalone)
windowrulev2 = workspace special:music silent, title:.*YouTube Music.*
windowrulev2 = workspace special:music silent, class:^(youtube-music)$

# SoundCloud (PWA)
windowrulev2 = workspace special:music silent, title:.*SoundCloud.*

# === VISUALIZADORES ===
# cava
windowrulev2 = workspace special:music silent, title:.*cava.*

# GLava (visualizador OpenGL) - class único
windowrulev2 = workspace special:music silent, class:^(GLava)$

# cli-visualizer
windowrulev2 = workspace special:music silent, title:^(vis)$

# === TU REPRODUCTOR ACTUAL ===
# kew
windowrulev2 = workspace special:music silent, title:.*kew.*

##############################################
##############################################
# === FIN [SPECIAL MUSIC WORKSPACE rules] ===
##############################################
##############################################

# === REGLAS DE LIBRE OFFICE ===
# LibreOffice (como impresoras, etc.)
windowrulev2 = float, title:.*Text Import.*
windowrulev2 = float, class:^(soffice)$

# --- REGLA CORREGIDA PARA SATTY ---
# Usa la clase exacta (com.gabm.satty) para forzar el modo flotante
# y evitar problemas con el tiling al cerrar el editor de capturas.
windowrulev2 = float, class:^(com.gabm.satty)$
windowrulev2 = noborder, class:^(com.gabm.satty)$
windowrulev2 = center, class:^(com.gabm.satty)$
# Regla para xdg-desktop-portal-gtk (apps Electron con GTK portal)
windowrulev2 = float, class:^(xdg-desktop-portal-gtk)$
windowrulev2 = size 964 800, class:^(xdg-desktop-portal-gtk)$
windowrulev2 = move 65 100, class:^(xdg-desktop-portal-gtk)$
windowrulev2 = center, class:^(xdg-desktop-portal-gtk)$
# Matching más específico para Electron
windowrulev2 = float, class:^(xdg-desktop-portal-gtk)$, title:.*Electron.*
windowrulev2 = float, class:^(xdg-desktop-portal-gtk)$, title:.*Chromium.*

# regla adicional para suprimir maximizado (opcional)
# reglas para abrir
# windowrulev2 = stayfocused, floating:1, fullscreen:1
windowrulev2 = suppressevent maximize, class:.* # you'll probably like this.
